{
  "goid": "e5cd57980c53d67b99eca6189e2e4cd4",
  "guid": "7079ed73-1730-4679-bdc0-6cc56b9fb4bc",
  "name": "enforcePlan",
  "checksum": "5cb4ed03adcc25e45d3dd2b8e3a911be7d077bc8",
  "folderPath": "/bootstrapableFramework",
  "soap": false,
  "policy": {
    "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:SetVariable>\n            <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLmNsaWVudC1pZH0=\"/>\n            <L7p:VariableToSet stringValue=\"client_id\"/>\n        </L7p:SetVariable>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:ComparisonAssertion>\n                <L7p:CaseSensitive booleanValue=\"false\"/>\n                <L7p:Expression1 stringValue=\"${client_id}\"/>\n                <L7p:Operator operatorNull=\"null\"/>\n                <L7p:Predicates predicates=\"included\">\n                    <L7p:item stringLength=\"included\">\n                        <L7p:Max intValue=\"-1\"/>\n                        <L7p:Min intValue=\"1\"/>\n                    </L7p:item>\n                </L7p:Predicates>\n            </L7p:ComparisonAssertion>\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"dW5rbm93bg==\"/>\n                <L7p:VariableToSet stringValue=\"client_id\"/>\n            </L7p:SetVariable>\n        </wsp:OneOrMore>\n        <L7p:Include>\n            <L7p:PolicyGuid stringValue=\"0303de0b-1ce7-46f3-bef4-95e4ebe8de5d\"/>\n        </L7p:Include>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${applicableSubscription}\"/>\n                    <L7p:Expression2 stringValue=\"plan_a\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"plan_a\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:RateLimit>\n                    <L7p:CounterName stringValue=\"PRESET(f2938766ae65d198)${request.clientid}\"/>\n                </L7p:RateLimit>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${applicableSubscription}\"/>\n                    <L7p:Expression2 stringValue=\"plan_b\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"plan_b\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:RateLimit>\n                    <L7p:CounterName stringValue=\"PRESET(f2938766ae65d198)${request.clientid}\"/>\n                    <L7p:MaxRequestsPerSecond stringValue=\"1000\"/>\n                </L7p:RateLimit>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:ComparisonAssertion>\n                    <L7p:Expression1 stringValue=\"${applicableSubscription}\"/>\n                    <L7p:Expression2 stringValue=\"plan_c\"/>\n                    <L7p:Predicates predicates=\"included\">\n                        <L7p:item binary=\"included\">\n                            <L7p:RightValue stringValue=\"plan_c\"/>\n                        </L7p:item>\n                    </L7p:Predicates>\n                </L7p:ComparisonAssertion>\n                <L7p:RateLimit>\n                    <L7p:CounterName stringValue=\"PRESET(f2938766ae65d198)${request.clientid}\"/>\n                    <L7p:MaxRequestsPerSecond stringValue=\"5000\"/>\n                </L7p:RateLimit>\n            </wsp:All>\n            <L7p:RateLimit>\n                <L7p:CounterName stringValue=\"PRESET(fcb93974a1ca8f42)${request.clientid}\"/>\n                <L7p:MaxRequestsPerSecond stringValue=\"10\"/>\n                <L7p:ShapeRequests booleanValue=\"true\"/>\n            </L7p:RateLimit>\n        </wsp:OneOrMore>\n        <L7p:HardcodedResponse>\n            <L7p:Base64ResponseBody stringValue=\"ewogICJjbGllbnQiIDogIiR7Y2xpZW50X2lkfSIsCiAgInBsYW4iIDogIiR7YXBwbGljYWJsZVN1YnNjcmlwdGlvbn0iLAogICJzZXJ2aWNlIiA6ICIke3NlcnZpY2Vfc3BlY2lmaWNfdmFyfSIsCiAgIm15RGVtb0NvbmZpZ1ZhbCIgOiAiJHtnYXRld2F5Lm15RGVtb0NvbmZpZ1ZhbH0iCn0=\"/>\n            <L7p:ResponseContentType stringValue=\"application/json; charset=UTF-8\"/>\n        </L7p:HardcodedResponse>\n        <L7p:ExportVariables>\n            <L7p:ExportedVars stringArrayValue=\"included\">\n                <L7p:item stringValue=\"applicableSubscription\"/>\n                <L7p:item stringValue=\"client_id\"/>\n            </L7p:ExportedVars>\n        </L7p:ExportVariables>\n    </wsp:All>\n</wsp:Policy>\n"
  }
}